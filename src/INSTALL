
A more complete version of this document can be found at http://www.recoll.org


     * Home
     * Screenshots
     * Credits
     * Downloads
     * Installation
     * User manual

Installing Recoll

  Building from source

    Prerequisites

   At the very least, you will need to download and install the xapian core
   package (I am currently using xapian version 0.8.5), and the qt runtime
   and development packages (I am currently using qt 3.3.3).

   You will most probably be able to find a binary package for qt for your
   system. You may have to compile Xapian, but this is not difficult.

   You also need libiconv. I am currently using version 1.9. The iconv
   interface is part of libc on Linux systems, you shouldn't need to do
   anything there.

   External file types: recoll uses external applications to index some file
   types. You need to install them for the file types that you wish to have
   indexed:

     * MS Word documents: antiword.
     * PDF files: pdftotext is part of the Xpdf package.
     * Postscript files: pstotext.

    Building

   Recoll has been built on Linux (redhat7.3, mandriva 2005), FreeBSD and
   Solaris 8. If you build on another system, I would very much welcome
   comments and patches.

   Normal procedure:

     * cd recoll-xxx
     * configure
     * make
     * (practise your usual hardship-repelling invocations).

   There is no real autoconfiguration. The configure script will just link
   one of the system-specific files in the mk directory to mk/sysconf. If
   your system is known yet, it will tell you as much, and you may want to
   manually copy and modify one of the existing files (the new file name
   should be the output of uname -s).

   You may also need to adjust the recoll.pro file inside the qtgui directory
   to fix the "-L/usr/local/lib -lxapian -liconv" piece, depending on where
   your libs are installed. Then run 'qmake recoll.pro' in there.

  Using binary packages

   The binary versions are just compressed tar files of a build tree, where
   only the useful parts were kept (executables and sample configuration).

   The executable binary files are built with a static link to libxapian and
   libiconv, to make installation easier (no dependencies). However, this
   also means that you can't change the versions of xapian and iconv which
   are used.

   After extracting the tar file, you can proceed with installation as if you
   had built the package from source.

  Installation

   Execute installrecoll targetdir, in the root of the source tree. This
   will:

     * Only if you have write access on targetdir/bin, copy qtgui/recoll and
       index/recollindex to targetdir/bin (but you could also execute them
       from their build directories).
     * Only if you are not root check if ~/.recoll exists, and if it does
       not:
          * Copy all files from sampleconf/* to ~/.recoll
          * Copy all files from filters/* to ~/.recoll.

   Typically, you would execute the script once as root to install the
   programs to /usr/local, and once as yourself to create the configuration.

  Configuration

   Recoll uses text configuration files. You will have to edit them by hand
   for now (all hope is not lost that there will be dialogs to build them
   from the GUI in the future).

   The main configuration file is named ~/.recoll/recoll.conf.

   There is a commented sample in the sampleconf subdirectory, it was copied
   to ~/.recoll at the previous step, take a look and possibly edit it. By
   default, it will index your home directory.

   Then start recollindex, and wait for indexing to complete (this may take
   some time). When it's done, you can start recoll and try a search.

   Depending on what is installed on your system, you may also want to adjust
   the external viewers defined in ~/.recoll/mimeconf (ie: html is either
   previewed internally or displayed using firefox, but you may prefer
   mozilla...). Look for the [view] section.
